# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Makefile.dev - Development Targets
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Configuration                                                               â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PY              ?= python3
PIP             ?= $(PY) -m pip
VENV_DIR        ?= venv313
VENV_PY         ?= $(shell pwd)/$(VENV_DIR)/bin/python
VENV_PIP        ?= $(VENV_PY) -m pip
DEV_HOST        ?= 0.0.0.0
DEV_PORT        ?= $(shell python3 scripts/find_port.py)

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Target Declarations                                                        â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

.PHONY: dev-setup dev-test dev-build dev-native dev-api dev-soa dev-benchmark dev-demo dev-clean dev dev-verify launch-dev dev-all

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Environment Setup                                                          â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

dev:
	@echo "ðŸ”§ Setting up development environment..."
	@echo "ðŸ“¦ Creating virtual environment..."
	$(PY) -m venv $(VENV_DIR)
	@echo "â¬†ï¸ Upgrading pip, wheel, setuptools..."
	$(VENV_PIP) install --upgrade pip wheel setuptools
	@echo "ðŸ“š Installing API dependencies..."
	$(VENV_PIP) install -r services/holographic-memory/api/requirements.txt
	@echo "ðŸ”§ Installing core service..."
	$(VENV_PIP) install -e services/holographic-memory/core
	@echo "ðŸ§ª Installing development dependencies..."
	$(VENV_PIP) install pytest pytest-cov pytest-asyncio
	$(VENV_PIP) install black flake8 isort mypy
	@echo "ðŸ“Š Installing dashboard dependencies..."
	$(VENV_PIP) install -r services/dashboard/requirements.txt
	@echo "ðŸ”¨ Building native extensions..."
	$(MAKE) dev-native
	@echo "âœ… Development environment setup complete!"
	@echo ""
	@echo "ðŸŽ‰ ðŸš€ ðŸŒŒ HOLOGRAPHIC MEMORY SOA SYSTEM READY! ðŸŒŒ ðŸš€ ðŸŽ‰"
	@echo "================================================================"
	@echo ""
	@echo "ðŸŽ¯ NEXT STEPS TO LAUNCH YOUR SOA SYSTEM:"
	@echo ""
	@echo "1ï¸âƒ£  ðŸ” VERIFY EVERYTHING IS WORKING:"
	@echo "   make dev-verify"
	@echo ""
	@echo "2ï¸âƒ£  ðŸ ACTIVATE YOUR VIRTUAL ENVIRONMENT:"
	@echo "   source venv313/bin/activate"
	@echo ""
	@echo "3ï¸âƒ£  ðŸš€ LAUNCH THE SOA DASHBOARD:"
	@echo "   make soa-start"
	@echo ""
	@echo "ðŸŽ® OR USE THE SIMPLE SCRIPT:"
	@echo "   ./soa start"
	@echo ""
	@echo "ðŸŒ MAIN DASHBOARD WILL OPEN AUTOMATICALLY!"
	@echo "   ðŸŽ¯ Central Hub: http://localhost:[DYNAMIC_PORT]/soa_dashboard.html"
	@echo ""
	@echo "ðŸ“‹ Available Services (accessible from main dashboard):"
	@echo "   â€¢ ðŸ”§ API Server & Documentation"
	@echo "   â€¢ ðŸ’» Terminal Interface (Command-line)"
	@echo "   â€¢ ðŸ“Š Analytics Dashboard (Charts & Metrics)"
	@echo "   â€¢ ðŸ“„ API Status Page (Simple Status)"
	@echo ""
	@echo "ðŸ’¡ Run 'make soa-status' to see actual port assignments"
	@echo ""
	@echo "ðŸŽŠ READY TO EXPERIENCE HOLOGRAPHIC MEMORY! ðŸŽŠ"
	@echo "================================================================"

dev-verify:
	@echo "ðŸ” Verifying development environment..."
	@echo "ðŸŒŒ Testing GPU acceleration..."
	@$(VENV_PY) -c "import sys; sys.path.append('services/holographic-memory/core/native/holographic/build'); import holographic_gpu; print('GPU platforms:', holographic_gpu.available_platforms())"
	@echo "ðŸ§ª Testing core service import..."
	@$(VENV_PY) -c "import holographicfs; print('âœ… Core service imported successfully')"
	@echo "ðŸ§® Testing math-core service import..."
	@$(VENV_PY) -c "import sys; sys.path.append('services/math-core'); import optimizer; print('âœ… Math-core service imported successfully')"
	@echo "ðŸ”„ Testing router service import..."
	@$(VENV_PY) -c "import sys; sys.path.append('services/router'); import mathematical_router; print('âœ… Router service imported successfully')"
	@echo "ðŸ“Š Testing telemetry service import..."
	@$(VENV_PY) -c "import sys; sys.path.append('services/telemetry'); import performance_tracker; print('âœ… Telemetry service imported successfully')"
	@echo "ðŸ”’ Testing vault service import..."
	@$(VENV_PY) -c "import sys; sys.path.append('services/vault'); import vault_storage; print('âœ… Vault service imported successfully')"
	@echo "âœ… Development environment verification complete!"
	@echo ""
	@echo "ðŸŽ‰ ðŸŽŠ ðŸŒŸ ALL SYSTEMS VERIFIED! ðŸŒŸ ðŸŽŠ ðŸŽ‰"
	@echo "================================================================"
	@echo ""
	@echo "ðŸŽ¯ READY TO LAUNCH YOUR SOA SYSTEM!"
	@echo ""
	@echo "ðŸ STEP 1: ACTIVATE VIRTUAL ENVIRONMENT"
	@echo "   source venv313/bin/activate"
	@echo ""
	@echo "ðŸš€ STEP 2: LAUNCH THE SOA DASHBOARD"
	@echo "   make soa-start"
	@echo ""
	@echo "ðŸŽ® OR USE THE SIMPLE SCRIPT:"
	@echo "   ./soa start"
	@echo ""
	@echo "ðŸŒ THEN OPEN YOUR BROWSER TO:"
	@echo "   â€¢ ðŸ–¥ï¸  Web Dashboard: http://localhost:[DYNAMIC_PORT]"
	@echo "   â€¢ ðŸ”§ API Server: http://localhost:[DYNAMIC_PORT]"
	@echo "   â€¢ ðŸŽ¨ Enhanced UI: http://localhost:[DYNAMIC_PORT]"
	@echo "   â€¢ ðŸ“„ API Static: http://localhost:[DYNAMIC_PORT]"
	@echo "   â€¢ ðŸ“š API Docs: http://localhost:[DYNAMIC_PORT]/docs"
	@echo ""
	@echo "ðŸ’¡ Run 'make soa-status' to see actual port assignments"
	@echo ""
	@echo "ðŸŽŠ YOUR HOLOGRAPHIC MEMORY SOA IS READY TO GO! ðŸŽŠ"
	@echo "================================================================"

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Process Management                                                         â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

dev-kill:
	@echo "ðŸ›‘ Stopping existing HolographicMemory processes..."
	@-pkill -f "python.*main.py" 2>/dev/null || true
	@-pkill -f "uvicorn.*app_soa" 2>/dev/null || true
	@-pkill -f "python3 -m http.server" 2>/dev/null || true
	@-pkill -f "python.*app.py" 2>/dev/null || true
	@echo "âœ… Existing processes stopped"

soa-start:
	@echo "ðŸš€ Starting SOA system with intelligent process management..."
	@$(VENV_PY) scripts/soa_manager.py start

soa-stop:
	@echo "ðŸ›‘ Stopping SOA system..."
	@$(VENV_PY) scripts/soa_manager.py stop

soa-restart:
	@echo "ðŸ”„ Restarting SOA system..."
	@$(VENV_PY) scripts/soa_manager.py restart

soa-status:
	@echo "ðŸ“Š SOA system status:"
	@$(VENV_PY) scripts/soa_manager.py status

soa-kill:
	@echo "ðŸ›‘ Emergency kill - stopping all HolographicMemory processes..."
	@-pkill -f "main.py" 2>/dev/null || true
	@-pkill -f "app_soa" 2>/dev/null || true
	@-pkill -f "http.server" 2>/dev/null || true
	@-pkill -f "app.py" 2>/dev/null || true
	@echo "âœ… All processes killed"

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Application Launch                                                         â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

dev-launch:
	@echo "ðŸš€ Launching SOA Web Dashboard..."
	@echo "ðŸŒŒ Starting web-based command center..."
	@echo "ðŸ“Š Opening browser dashboard at http://localhost:8086"
	@echo "ðŸ”— API will run on http://localhost:8085"
	@echo ""
	@echo "Starting API server in background..."
	@$(VENV_PY) main.py --port 8085 &
	@sleep 3
	@echo "Starting web dashboard server..."
	@cd services/dashboard/web && python3 -m http.server 8086 &
	@sleep 2
	@echo "âœ… Dashboard ready! Opening browser..."
	@open http://localhost:8086 || xdg-open http://localhost:8086 || echo "Please open http://localhost:8086 in your browser"
	@echo ""
	@echo "ðŸŽ¯ Web Dashboard Features:"
	@echo "   â€¢ Beautiful terminal-style interface"
	@echo "   â€¢ Real-time system monitoring"
	@echo "   â€¢ Interactive SOA commands"
	@echo "   â€¢ GPU status and performance metrics"
	@echo "   â€¢ Holographic memory operations"
	@echo ""
	@echo "Press Ctrl+C to stop both servers"
	@wait

dev-all:
	@echo "ðŸŽ¯ Running complete development setup sequence..."
	@echo "ðŸ§¹ Step 1: Cleaning build artifacts..."
	$(MAKE) dev-clean
	@echo ""
	@echo "ðŸ›‘ Step 2: Stopping existing processes..."
	$(MAKE) dev-kill
	@echo ""
	@echo "ðŸ”§ Step 3: Setting up development environment..."
	$(MAKE) dev
	@echo ""
	@echo "ðŸ” Step 4: Verifying development environment..."
	$(MAKE) dev-verify
	@echo ""
	@echo "ðŸš€ Step 5: Launching development system..."
	@echo ""
	@echo "ðŸŽ‰ ðŸš€ ðŸŒŒ SETUP COMPLETE! READY TO LAUNCH! ðŸŒŒ ðŸš€ ðŸŽ‰"
	@echo "================================================================"
	@echo ""
	@echo "ðŸŽ¯ FINAL STEPS TO LAUNCH YOUR SOA SYSTEM:"
	@echo ""
	@echo "ðŸ STEP 1: ACTIVATE VIRTUAL ENVIRONMENT"
	@echo "   source venv313/bin/activate"
	@echo ""
	@echo "ðŸš€ STEP 2: LAUNCH THE SOA DASHBOARD"
	@echo "   make soa-start"
	@echo ""
	@echo "ðŸŽ® OR USE THE SIMPLE SCRIPT:"
	@echo "   ./soa start"
	@echo ""
	@echo "ðŸŒ THEN OPEN YOUR BROWSER TO:"
	@echo "   â€¢ ðŸ–¥ï¸  Web Dashboard: http://localhost:[DYNAMIC_PORT]"
	@echo "   â€¢ ðŸ”§ API Server: http://localhost:[DYNAMIC_PORT]"
	@echo "   â€¢ ðŸŽ¨ Enhanced UI: http://localhost:[DYNAMIC_PORT]"
	@echo "   â€¢ ðŸ“„ API Static: http://localhost:[DYNAMIC_PORT]"
	@echo "   â€¢ ðŸ“š API Docs: http://localhost:[DYNAMIC_PORT]/docs"
	@echo ""
	@echo "ðŸ’¡ Run 'make soa-status' to see actual port assignments"
	@echo ""
	@echo "ðŸŽŠ YOUR HOLOGRAPHIC MEMORY SOA IS READY TO GO! ðŸŽŠ"
	@echo "================================================================"

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Testing & Validation                                                       â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

dev-test:
	@echo "ðŸ§ª Running development tests..."
	@echo "ðŸ” Testing core service..."
	@cd services/holographic-memory/core && $(VENV_PY) -m pytest -v --cov=holographicfs --cov-report=html
	@echo "ðŸŒ Testing API service..."
	@cd services/holographic-memory/api && $(VENV_PY) -m pytest -v
	@echo "ðŸ§® Testing math-core service..."
	@cd services/math-core && $(VENV_PY) -m pytest -v
	@echo "ðŸ”„ Testing router service..."
	@cd services/router && $(VENV_PY) -m pytest -v
	@echo "ðŸ“Š Testing telemetry service..."
	@cd services/telemetry && $(VENV_PY) -m pytest -v
	@echo "ðŸ”’ Testing vault service..."
	@cd services/vault && $(VENV_PY) -m pytest -v
	@echo "âœ… All development tests passed!"

.PHONY: dev-enterprise-tests
dev-enterprise-tests:
	@echo "ðŸ¢ Running enterprise test suite (unit, integration, contract, e2e)..."
	@$(VENV_PY) -m pip install -e services/holographic-memory/core
	@$(VENV_PIP) install .[dev,enterprise]
	@$(VENV_PY) -m pytest -m "unit or integration or contract or e2e" --html=tests/reports/pytest_enterprise.html --self-contained-html -q
	@echo "ðŸ“Š Coverage report: tests/reports/coverage/index.html"
	@echo "âœ… Enterprise tests complete."

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Build & Compilation                                                        â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

dev-build:
	@echo "ðŸ”¨ Building development components..."
	@echo "ðŸ“¦ Building core service..."
	@cd services/holographic-memory/core && $(VENV_PY) -m build
	@echo "ðŸ”§ Building native extensions..."
	$(MAKE) dev-native
	@echo "âœ… Development build complete!"

dev-native:
	@echo "ðŸ”§ Building native extensions for development..."
	@which clang++ > /dev/null || (echo "âŒ clang++ not found. Install Xcode Command Line Tools: xcode-select --install" && exit 1)
	@which cmake > /dev/null || (echo "âŒ cmake not found. Install with: brew install cmake" && exit 1)
	@echo "ðŸ—ï¸ Building GPU backend with CMake..."
	@cd services/holographic-memory/core/native/holographic && \
		mkdir -p build && \
		cd build && \
		cmake .. -DCMAKE_BUILD_TYPE=Debug -DBUILD_METAL=ON -DBUILD_3D=ON && \
		make -j$(shell sysctl -n hw.ncpu)
	@echo "âœ… Native extensions built successfully!"

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Service Management                                                         â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

dev-api:
	@echo "ðŸš€ Starting development API server..."
	@echo "ðŸŒ Server will be available at http://$(DEV_HOST):$(DEV_PORT)"
	@echo "ðŸ“š API documentation at http://$(DEV_HOST):$(DEV_PORT)/docs"
	@$(VENV_PY) -m uvicorn services.holographic-memory.api.app_soa:app --reload --host $(DEV_HOST) --port $(DEV_PORT)

dev-soa:
	@echo "ðŸŒ Starting development SOA system..."
	@echo "ðŸ”§ Starting all services in development mode..."
	@$(VENV_PY) main.py

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Performance & Demos                                                        â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

dev-benchmark:
	@echo "ðŸ“Š Running development benchmarks..."
	@echo "ðŸ” Running GPU performance benchmarks..."
	@$(VENV_PY) -c "import sys; sys.path.append('services/holographic-memory/core/native/holographic/build'); import holographic_gpu; print('GPU platforms:', holographic_gpu.available_platforms())"
	@echo "ðŸ§® Running mathematical validation benchmarks..."
	@$(VENV_PY) tools/validate_accuracy.py
	@echo "âœ… Development benchmarks complete!"

dev-demo:
	@echo "ðŸŽ¬ Running development demos..."
	@echo "ðŸŽ¯ Running end-to-end demo..."
	@$(VENV_PY) tools/demo_end_to_end.py
	@echo "âœ… Development demos complete!"

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚ Cleanup                                                                    â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

dev-clean:
	@echo "ðŸ§¹ Cleaning development artifacts..."
	@echo "   Cleaning Python cache files..."
	@find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true
	@find . -name "*.pyc" -delete 2>/dev/null || true
	@find . -name "*.pyo" -delete 2>/dev/null || true
	@echo "   Cleaning build directories..."
	@rm -rf build dist .pytest_cache
	@rm -rf services/holographic-memory/core/*.egg-info
	@rm -rf services/holographic-memory/core/native/holographic/build
	@rm -rf htmlcov .coverage
	@echo "   Cleaning SOA artifacts..."
	@rm -f soa_config.json
	@rm -rf dashboard/__pycache__
	@rm -rf services/dashboard/__pycache__
	@echo "   Cleaning test artifacts..."
	@rm -rf tests/reports/html/*
	@rm -rf tests/reports/junit/*
	@rm -rf logs/*.log
	@echo "   Cleaning temporary files..."
	@rm -rf .DS_Store
	@find . -name "*.tmp" -delete 2>/dev/null || true
	@find . -name "*.log" -not -path "./logs/*" -delete 2>/dev/null || true
	@echo "âœ… Development cleanup complete!"

clean-all:
	@echo "ðŸ§¹ COMPLETE SYSTEM CLEANUP - Fresh Start"
	@echo "=========================================="
	@echo "ðŸ›‘ Step 1: Stopping all SOA processes..."
	@$(MAKE) soa-kill
	@echo ""
	@echo "ðŸ—‘ï¸  Step 2: Removing virtual environment..."
	@rm -rf venv313
	@echo ""
	@echo "ðŸ§¹ Step 3: Cleaning all Python artifacts..."
	@find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true
	@find . -name "*.pyc" -delete 2>/dev/null || true
	@find . -name "*.pyo" -delete 2>/dev/null || true
	@find . -name "*.pyd" -delete 2>/dev/null || true
	@echo ""
	@echo "ðŸ—ï¸  Step 4: Cleaning build directories..."
	@rm -rf build dist .pytest_cache
	@rm -rf services/holographic-memory/core/*.egg-info
	@rm -rf services/holographic-memory/core/native/holographic/build
	@rm -rf htmlcov .coverage
	@echo ""
	@echo "ðŸŒ Step 5: Cleaning SOA artifacts..."
	@rm -f soa_config.json
	@rm -rf dashboard/__pycache__
	@rm -rf services/dashboard/__pycache__
	@echo ""
	@echo "ðŸ§ª Step 6: Cleaning test artifacts..."
	@rm -rf tests/reports/html/*
	@rm -rf tests/reports/junit/*
	@rm -rf logs/*.log
	@echo ""
	@echo "ðŸ—‚ï¸  Step 7: Cleaning temporary files..."
	@rm -rf .DS_Store
	@find . -name "*.tmp" -delete 2>/dev/null || true
	@find . -name "*.log" -not -path "./logs/*" -delete 2>/dev/null || true
	@find . -name "*.swp" -delete 2>/dev/null || true
	@find . -name "*.swo" -delete 2>/dev/null || true
	@find . -name "*~" -delete 2>/dev/null || true
	@echo ""
	@echo "âœ… COMPLETE CLEANUP FINISHED!"
	@echo "=========================================="
	@echo "ðŸŽ¯ Ready for fresh start! Run 'make dev' to set up again."
