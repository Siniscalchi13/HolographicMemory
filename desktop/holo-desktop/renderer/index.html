<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Holographic Memory</title>
    <style>
      body { font-family: -apple-system, Segoe UI, Roboto, Arial; margin: 0; }
      header { padding: 12px 16px; background:#0f172a; color:#fff; display:flex; align-items:center; justify-content:space-between }
      .grid { display:grid; grid-template-columns: 1fr 2fr; gap:16px; padding:16px }
      .card { background:#f8fafc; border-radius:8px; padding:12px; min-height:100px }
      #drop { border:2px dashed #94a3b8; padding:24px; text-align:center; background:#fff; }
      table { width:100%; border-collapse:collapse }
      th, td { padding:8px; border-bottom:1px solid #e2e8f0; text-align:left }
      input[type="text"]{ width:100%; padding:8px; border:1px solid #cbd5e1; border-radius:6px }
      .row { display:flex; gap:12px; align-items:center }
      .pill { background:#e2e8f0; padding:2px 8px; border-radius:999px; font-size:12px }
      .muted { color:#475569 }
      .tree-node{ cursor:pointer; padding:4px 0 }
      .tree-node:hover{ background:#e2e8f0 }
      #gridview{ display:none; margin-top:8px; grid-template-columns: repeat(auto-fill, minmax(140px,1fr)); gap:12px }
      .tile{ background:#fff; border:1px solid #e2e8f0; border-radius:8px; padding:8px; cursor:pointer }
      .tile img{ width:100%; height:120px; object-fit:cover; border-radius:6px; background:#e2e8f0 }
      .tile .name{ margin-top:6px; font-size:12px; white-space:nowrap; text-overflow:ellipsis; overflow:hidden }
      #props{ position:fixed; inset:0; display:none; background:rgba(0,0,0,0.35); align-items:center; justify-content:center }
      #props .modal{ background:#fff; border-radius:8px; padding:16px; width:420px }
      #banner{ position:fixed; top:0; left:0; right:0; display:none; background:#fee2e2; color:#7f1d1d; padding:10px 14px; border-bottom:1px solid #fecaca }
      #overlay{ position:fixed; inset:0; display:none; background:rgba(255,255,255,0.7); align-items:center; justify-content:center; z-index:1000 }
      .spinner{ width:42px; height:42px; border:4px solid #cbd5e1; border-top-color:#0ea5e9; border-radius:50%; animation:spin 1s linear infinite }
      @keyframes spin{to{transform:rotate(360deg)}}
    </style>
  </head>
  <body>
    <header>
      <div>Holographic Memory</div>
      <div class="muted" id="status">Connectingâ€¦</div>
    </header>
    <div id="banner"></div>
    <div class="grid" style="grid-template-columns: 280px 1fr 360px;">
      <div class="card" style="height: calc(100vh - 120px); overflow:auto">
        <h3>Folders</h3>
        <div id="tree"></div>
      </div>
      <div class="card" style="height: calc(100vh - 120px); overflow:auto">
        <div class="row" style="justify-content: space-between; align-items:center">
          <div>
            <h3 style="display:inline">Files</h3>
            <span id="cwd" class="muted" style="margin-left:8px"></span>
          </div>
          <div class="row">
            <input type="text" id="q" placeholder="Search by filename" style="width:280px"/>
            <div class="pill" id="viewMode" title="Toggle view">list</div>
            <div class="pill" id="revealBtn" title="Reveal in Finder">Reveal</div>
            <div class="pill" id="copyLinkBtn" title="Copy holographic link">Copy Link</div>
            <div class="pill" id="watchBtn" title="Watch current folder">Watch</div>
          </div>
        </div>
        <div id="drop" style="margin-top:8px">Drag & drop files here, or <input type="file" id="file" multiple></div>
        <div id="gridview"></div>
        <table id="listview" style="margin-top:8px">
          <thead><tr>
            <th style="width:40px"></th>
            <th data-sort="name" class="sortable">Name</th>
            <th data-sort="type" class="sortable">Type</th>
            <th data-sort="size" class="sortable">Size</th>
            <th data-sort="mtime" class="sortable">Modified</th>
          </tr></thead>
          <tbody id="rows"></tbody>
        </table>
      </div>
      <div class="card" style="height: calc(100vh - 120px); overflow:auto">
        <h3>Preview</h3>
        <div id="preview"></div>
        <h3>Stats</h3>
        <div id="stats"></div>
        <div class="muted" id="statusBar" style="margin-top:8px">0 items</div>
      </div>
    </div>

    <div id="props">
      <div class="modal">
        <h3>Properties</h3>
        <div id="propsBody"></div>
        <div style="margin-top:12px; text-align:right"><button id="propsClose">Close</button></div>
      </div>
    </div>
    <div id="overlay"><div class="spinner"></div></div>

    <script src="renderer.js"></script>
  </body>
  </html>
